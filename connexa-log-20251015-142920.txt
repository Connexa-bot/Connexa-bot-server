[0;32m✓ jq found - responses will be formatted[0m
[0;34m
╔════════════════════════════════════════════╗
║  🧪 ConnexaBot API Comprehensive Testing  ║
╔════════════════════════════════════════════╝
║
║  Base URL: http://widespread-chicky-connexa-hub-afd02d40.koyeb.app
║  Phone: 2349041648144
║  Test Recipient: 2349041648144@s.whatsapp.net
║
╚════════════════════════════════════════════
[0m

[0;34m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━[0m
[0;32m📊 SECTION 1: HEALTH & CONNECTION[0m
[0;34m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━[0m

[1;33m1.1 Server Health Check...[0m
[0;34mRequest: GET http://widespread-chicky-connexa-hub-afd02d40.koyeb.app/health[0m
[0;34mRaw Response (first 200 chars):[0m {"status":"ok","uptime":166.515075433,"timestamp":"2025-10-15T13:29:22.502Z","serverUrl":"https://widespread-chicky-connexa-hub-afd02d40.koyeb.app/"}
{
  "status": "ok",
  "uptime": 166.515075433,
  "timestamp": "2025-10-15T13:29:22.502Z",
  "serverUrl": "https://widespread-chicky-connexa-hub-afd02d40.koyeb.app/"
}

[1;33m1.2 API Health Check...[0m
{
  "status": "ok",
  "uptime": 168.04331312,
  "timestamp": "2025-10-15T13:29:24.030Z",
  "activeSessions": 0
}

[1;33m1.3 OpenAI Connection Status...[0m
{
  "connected": true,
  "configured": true,
  "status": "active",
  "message": "OpenAI API is connected and ready"
}

[1;33m1.4 WhatsApp Connect...[0m
{
  "success": true,
  "qrCode": "2@AwXPbbd78hB9d86L61+gf2NlYZT2b4O+ePqNfMY+F/cAAMjHdup1Aap/9waUaD+9d0SgSmvWOS9wGOJ/LP3x7uEo4TPdwhs19FI=,1awUAjA5vGujY2xUxLGpMAEikG6PiW0y5+eenbT3ZHg=,ajGSPflr8KYKSflDTYyLsb5ud4FMs9m0QZxdEMCr2n4=,QhpdELeRW0bsmaJvizwJuB2SorsWTk07eOTPL1MIjb8=",
  "linkCode": null,
  "message": "Scan QR code or use link code",
  "connected": false
}

[1;33m1.5 Connection Status...[0m
{
  "connected": false,
  "status": "waiting",
  "authenticated": false,
  "ready": false,
  "isConnected": false,
  "qrCode": "2@AwXPbbd78hB9d86L61+gf2NlYZT2b4O+ePqNfMY+F/cAAMjHdup1Aap/9waUaD+9d0SgSmvWOS9wGOJ/LP3x7uEo4TPdwhs19FI=,1awUAjA5vGujY2xUxLGpMAEikG6PiW0y5+eenbT3ZHg=,ajGSPflr8KYKSflDTYyLsb5ud4FMs9m0QZxdEMCr2n4=,QhpdELeRW0bsmaJvizwJuB2SorsWTk07eOTPL1MIjb8=",
  "linkCode": "P86E3WY9",
  "user": null,
  "phone": "2349041648144",
  "error": null
}

[1;33m⏳ Please scan the QR code or use the linking code shown above[0m
[1;33m📱 Enter the pairing code in WhatsApp: Linked Devices > Link a Device > Link with phone number[0m

[0;32mPress ENTER after you have successfully linked your device...[0m

[1;33mVerifying connection...[0m
{
  "connected": true,
  "status": "connected",
  "authenticated": true,
  "ready": true,
  "isConnected": true,
  "qrCode": null,
  "linkCode": null,
  "user": {
    "id": "2349041648144:23@s.whatsapp.net"
  },
  "phone": "2349041648144",
  "error": null
}
[0;32m✅ Connection verified![0m

[0;34m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━[0m
[0;32m📥 SECTION 2: DATA RETRIEVAL[0m
[0;34m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━[0m

[1;33m2.1 Get Chats...[0m
[0;34m⏳ Waiting for chats to sync...[0m
./test-endpoints.sh: line 157: [: : integer expected
[1;33m⏳ Waiting for chats to sync... (attempt 1/15)[0m
./test-endpoints.sh: line 157: [: : integer expected
[1;33m⏳ Waiting for chats to sync... (attempt 2/15)[0m
